import{a as D,u as I,r as p,aP as X,F as N,d as u,M as R,j as h,a6 as Z,aQ as J,aR as ee,aS as te,aT as ue,aU as ae,R as se,aV as le,C as n,aW as oe,a4 as ne,a7 as m,_ as d,a5 as ce,aX as ie,aY as me,aZ as w,a_ as de,k as re,a$ as pe,b0 as Ee,b1 as he,l as xe,b2 as Ce,q as fe}from"./index.c6586871.js";import{P as U}from"./PropertyGrid.a7c2a125.js";function Ne(){const b=D(ee),c=I(te),[i,a]=p.exports.useState(0),f=c[i]||c[0],o=new Map,_=c.map(g=>{const E=X.get(g.type);return Object.keys(N).find(O=>O===g.type)?(o.has(E)?o.set(E,o.get(E)+1):o.set(E,1),`${E}(${o.get(E)})`):E}),M=p.exports.useMemo(()=>c.map((g,E)=>u("div",{role:"button",className:E===i?"tab-button-active":"tab-button-inactive",onClick:()=>{a(E)},children:`${_[E]}`},E)),[c,i,_]),P=Object.keys(N).find(g=>g===f.type)?R.FASAD:R.CORPUS;return p.exports.useEffect(()=>{i>=c.length&&a(0)},[c,i]),h("div",{children:[u(Z,{icon:"excel",caption:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0432 Excel",title:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0432 Excel",onClick:()=>b(f.spec,_[i])}),u("div",{className:"d-flex flex-row flex-wrap align-items-center gap-1",children:M}),u("hr",{}),u(J,{purposes:[P,R.BOTH],specification:f.spec})]})}const ge=(b,c,i,a)=>{const f=D(ue),o=I(ae);return p.exports.useEffect(()=>{f(b,c,i,a)},[b,c,i,a,f]),o},B=[0,1,2,3,4,5,6],T={fontStyle:"italic",color:"gray"},y=6,Ae=["200","250","300","350","400","450","500"];function _e(){const{permissions:b}=I(re),c=b.get(se.SPECIFICATION),i=I(pe),a=D(Ee),f=D(he),o=I(xe),_=I(Ce),M=p.exports.useMemo(()=>o.filter(t=>t.purpose!==R.FASAD).map(t=>t.name),[o]),P=p.exports.useMemo(()=>o.filter(t=>t.material===N.DSP&&t.purpose!==R.CORPUS).map(t=>t.name),[o]),g=p.exports.useMemo(()=>o.filter(t=>t.material===N.MIRROR).map(t=>t.name),[o]),E=p.exports.useMemo(()=>o.filter(t=>t.material===N.FMP).map(t=>t.name),[o]),O=p.exports.useMemo(()=>o.filter(t=>t.material===N.SAND).map(t=>t.name),[o]),k=p.exports.useMemo(()=>o.filter(t=>t.material===N.LACOBEL).map(t=>t.name),[o]),W=p.exports.useMemo(()=>o.filter(t=>t.material===N.LACOBELGLASS).map(t=>t.name),[o]),$=I(fe),H=p.exports.useMemo(()=>$.map(t=>t.name),[$]),{wardKind:j,wardType:L,width:K,depth:z,height:Y,dspName:q,fasades:s,profileName:Q,extComplect:r}=i,A=Object.values(s).reduce((t,e)=>e.count+t,0),[{consoleSameHeight:F,consoleSameDepth:v,standSameHeight:S},V]=p.exports.useState({consoleSameHeight:!0,consoleSameDepth:!0,standSameHeight:!0}),G=ge(le.INNER_STAND,i.wardKind,i.width,i.height)||{length:0};return p.exports.useEffect(()=>{S&&a(t=>({...t,extComplect:{...t.extComplect,stand:{...t.extComplect.stand,height:G.length}}}))},[G.length,S]),p.exports.useEffect(()=>{_&&f(i)},[i,_,f]),u("div",{className:"container",children:h("div",{className:"row",children:[u("div",{className:`container col-xs-12 col-sm-12 ${c!=null&&c.read?"col-md-6 col-lg-4":"col-md-12 col-lg-12"}`,children:h("div",{className:"row",children:[h("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-6 wardrobe-param-container",children:[u("div",{className:"text-center",children:"\u041E\u0441\u043D\u043E\u0432\u043D\u044B\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B"}),h(U,{style:{padding:"0.5em",border:"1px solid"},children:[u(n,{title:"\u0421\u0435\u0440\u0438\u044F \u0448\u043A\u0430\u0444\u0430:",value:j,items:oe,onChange:(t,e)=>{a(l=>({...l,wardKind:e}))}}),u(n,{title:"\u0422\u0438\u043F \u0448\u043A\u0430\u0444\u0430:",value:L,items:ne,onChange:(t,e)=>{a(l=>({...l,wardType:e}))}}),u("div",{className:"text-end",children:"\u0428\u0438\u0440\u0438\u043D\u0430: "}),u(m,{value:K,type:d.INTEGER_POSITIVE_NUMBER,min:900,max:3e3,setValue:t=>{a(e=>({...e,width:+t}))}}),u("div",{className:"text-end",children:"\u0413\u043B\u0443\u0431\u0438\u043D\u0430: "}),u(m,{value:z,type:d.INTEGER_POSITIVE_NUMBER,min:400,max:700,setValue:t=>{a(e=>({...e,depth:+t}))}}),u("div",{className:"text-end",children:"\u0412\u044B\u0441\u043E\u0442\u0430: "}),u(m,{value:Y,type:d.INTEGER_POSITIVE_NUMBER,min:1900,max:2750,setValue:t=>{a(e=>({...e,height:+t}))}}),u(n,{title:"\u0426\u0432\u0435\u0442 \u0414\u0421\u041F:",value:q,items:M,onChange:(t,e)=>{a(l=>({...l,dspName:e}))}}),u(n,{title:"\u0426\u0432\u0435\u0442 \u043F\u0440\u043E\u0444\u0438\u043B\u044F:",value:Q,items:H,onChange:(t,e)=>{a(l=>({...l,profileName:e}))}})]}),L!==ce.CORPUS&&h(U,{style:{padding:"0.5em",border:"1px solid"},children:[u("div",{className:"text-end",children:"\u0424\u0430\u0441\u0430\u0434\u043E\u0432 \u0432\u0441\u0435\u0433\u043E: "}),h("div",{className:"d-flex align-items-center justify-content-between",children:[u("div",{children:A}),u("div",{className:"small-button",role:"button",onClick:()=>{a(t=>({...t,fasades:ie}))},children:"\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C"})]}),u(n,{title:"\u0414\u0421\u041F:",value:`${s.dsp.count}`,items:B,onChange:(t,e)=>{+e+A-s.dsp.count<=y&&a(l=>({...l,fasades:{...s,dsp:{count:+e,names:new Array(+e).fill("")}}}))}}),s.dsp.count>0&&s.dsp.names.map((t,e)=>u(n,{styles:T,title:`${e+1}`,items:P,value:s.dsp.names[e],onChange:(l,x)=>{s.dsp.names[e]=x,a(C=>({...C}))}},"dsp"+e)),u(n,{title:"\u0417\u0435\u0440\u043A\u0430\u043B\u043E:",value:`${s.mirror.count}`,items:B,onChange:(t,e)=>{+e+A-s.mirror.count<=y&&a(l=>({...l,fasades:{...s,mirror:{count:+e,names:new Array(+e).fill("")}}}))}}),s.mirror.count>0&&s.mirror.names.map((t,e)=>u(n,{styles:T,title:`${e+1}`,items:g,value:s.mirror.names[e],onChange:(l,x)=>{s.mirror.names[e]=x,a(C=>({...C}))}},"mirror"+e)),u(n,{title:"\u0424\u041C\u041F:",value:`${s.fmp.count}`,items:B,onChange:(t,e)=>{+e+A-s.fmp.count<=y&&a(l=>({...l,fasades:{...s,fmp:{count:+e,names:new Array(+e).fill("")}}}))}}),s.fmp.count>0&&s.fmp.names.map((t,e)=>u(n,{styles:T,title:`${e+1}`,items:E,value:s.fmp.names[e],onChange:(l,x)=>{s.fmp.names[e]=x,a(C=>({...C}))}},"fmp"+e)),u(n,{title:"\u041F\u0435\u0441\u043A\u043E\u0441\u0442\u0440\u0443\u0439:",value:`${s.sand.count}`,items:B,onChange:(t,e)=>{+e+A-s.sand.count<=y&&a(l=>({...l,fasades:{...s,sand:{count:+e,names:new Array(+e).fill("")}}}))}}),s.sand.count>0&&s.sand.names.map((t,e)=>u(n,{styles:T,title:`${e+1}`,items:O,value:s.sand.names[e],onChange:(l,x)=>{s.sand.names[e]=x,a(C=>({...C}))}},"sand"+e)),u(n,{title:"\u041B\u0430\u043A\u043E\u0431\u0435\u043B\u044C:",value:`${s.lacobel.count}`,items:B,onChange:(t,e)=>{+e+A-s.lacobel.count<=y&&a(l=>({...l,fasades:{...s,lacobel:{count:+e,names:new Array(+e).fill("")}}}))}}),s.lacobel.count>0&&s.lacobel.names.map((t,e)=>u(n,{styles:T,title:`${e+1}`,items:k,value:s.lacobel.names[e],onChange:(l,x)=>{s.lacobel.names[e]=x,a(C=>({...C}))}},"lacobel"+e)),u(n,{title:"\u041B\u0430\u043A\u043E\u0431\u0435\u043B\u044C (\u0441\u0442\u0435\u043A\u043B\u043E):",value:`${s.lacobelGlass.count}`,items:B,onChange:(t,e)=>{+e+A-s.lacobelGlass.count<=y&&a(l=>({...l,fasades:{...s,lacobelGlass:{count:+e,names:new Array(+e).fill("")}}}))}}),s.lacobelGlass.count>0&&s.lacobelGlass.names.map((t,e)=>u(n,{styles:T,title:`${e+1}`,items:W,value:s.lacobelGlass.names[e],onChange:(l,x)=>{s.lacobelGlass.names[e]=x,a(C=>({...C}))}},"lacobelGlass"+e))]})]}),h("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-6 wardrobe-param-container",children:[u("div",{className:"text-center",children:"\u0414\u043E\u043F. \u043A\u043E\u043C\u043F\u043B\u0435\u043A\u0442\u0430\u0446\u0438\u044F"}),h(U,{style:{padding:"0.5em",border:"1px solid"},children:[u("div",{}),h("div",{className:"d-flex align-items-center justify-content-between",children:[u("div",{}),u("div",{className:"small-button",role:"button",onClick:()=>{a(t=>({...t,extComplect:me(t.height,t.depth)})),V({consoleSameDepth:!0,consoleSameHeight:!0,standSameHeight:!0})},children:"\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C"})]}),u("div",{className:"text-end",children:"\u0422\u0435\u043B\u0435\u0441\u043A\u043E\u043F: "}),u(m,{value:r.telescope,type:d.INTEGER_POSITIVE_NUMBER,min:0,max:10,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,telescope:+t}}))}}),u("hr",{}),u("hr",{}),u("div",{className:"text-end",children:"\u041A\u043E\u043D\u0441\u043E\u043B\u0438 \u043A\u043E\u043B-\u0432\u043E: "}),u(m,{value:r.console.count,type:d.INTEGER_POSITIVE_NUMBER,min:0,max:2,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,console:{...e.extComplect.console,count:+t}}}))}}),h("div",{className:"d-flex flex-column align-items-end",children:[u("div",{className:"text-end",children:"\u0412\u044B\u0441\u043E\u0442\u0430 \u043A\u043E\u043D\u0441\u043E\u043B\u0438: "}),u(w,{styles:{fontSize:"0.8em"},checked:F,caption:"\u043A\u0430\u043A \u0443 \u0448\u043A\u0430\u0444\u0430",onChange:()=>{V(t=>({...t,consoleSameHeight:!F})),F||a(t=>({...t,extComplect:{...t.extComplect,console:{...t.extComplect.console,height:t.height}}}))}})]}),u(m,{disabled:F,value:r.console.height,type:d.INTEGER_POSITIVE_NUMBER,min:0,max:3e3,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,console:{...e.extComplect.console,height:+t}}}))}}),h("div",{className:"d-flex flex-column align-items-end",children:[u("div",{className:"text-end",children:"\u0413\u043B\u0443\u0431\u0438\u043D\u0430 \u043A\u043E\u043D\u0441\u043E\u043B\u0438: "}),u(w,{styles:{fontSize:"0.8em"},checked:v,caption:"\u043A\u0430\u043A \u0443 \u0448\u043A\u0430\u0444\u0430",onChange:()=>{V(t=>({...t,consoleSameDepth:!v})),v||a(t=>({...t,extComplect:{...t.extComplect,console:{...t.extComplect.console,depth:t.depth}}}))}})]}),u(m,{disabled:v,value:r.console.depth,type:d.INTEGER_POSITIVE_NUMBER,min:0,max:800,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,console:{...e.extComplect.console,depth:+t}}}))}}),u(n,{title:"\u0428\u0438\u0440\u0438\u043D\u0430 \u043A\u043E\u043D\u0441\u043E\u043B\u0438:",items:Ae,value:`${r.console.width}`,onChange:(t,e)=>{a(l=>({...l,extComplect:{...l.extComplect,console:{...l.extComplect.console,width:+e}}}))}}),u(n,{title:"\u0422\u0438\u043F \u043A\u043E\u043D\u0441\u043E\u043B\u0438:",value:r.console.type||"",items:de,onChange:(t,e)=>{a(l=>({...l,extComplect:{...l.extComplect,console:{...l.extComplect.console,type:e}}}))}}),u("hr",{}),u("hr",{}),u("div",{className:"text-end",children:"\u041A\u043E\u0437\u044B\u0440\u0435\u043A: "}),u(m,{value:r.blinder,type:d.INTEGER_POSITIVE_NUMBER,min:0,max:1,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,blinder:+t}}))}}),u("div",{className:"text-end",children:"\u041F\u043E\u043B\u043A\u0430 \u0434\u043E\u043F (\u043F\u043E\u043B\u043E\u0447\u043D): "}),u(m,{value:r.shelf,type:d.INTEGER_POSITIVE_NUMBER,min:0,max:10,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,shelf:+t}}))}}),u("div",{className:"text-end",children:"\u041F\u043E\u043B\u043A\u0430 \u0434\u043E\u043F (\u043F\u043B\u0430\u0442): "}),u(m,{value:r.shelfPlat,type:d.INTEGER_POSITIVE_NUMBER,min:0,max:10,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,shelfPlat:+t}}))}}),u("div",{className:"text-end",children:"\u041F\u0435\u0440\u0435\u043C\u044B\u0447\u043A\u0430 (\u0434\u043E\u043F): "}),u(m,{value:r.pillar,type:d.INTEGER_POSITIVE_NUMBER,min:0,max:10,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,pillar:+t}}))}}),u("hr",{}),u("hr",{}),u("div",{className:"text-end",children:"\u0421\u0442\u043E\u0439\u043A\u0430 (\u0434\u043E\u043F) \u043A\u043E\u043B-\u0432\u043E: "}),u(m,{value:r.stand.count,type:d.INTEGER_POSITIVE_NUMBER,min:0,max:10,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,stand:{...e.extComplect.stand,count:+t}}}))}}),h("div",{className:"d-flex flex-column align-items-end",children:[u("div",{className:"text-end",children:"\u0421\u0442\u043E\u0439\u043A\u0430 (\u0434\u043E\u043F) \u0440\u0430\u0437\u043C\u0435\u0440: "}),u(w,{styles:{fontSize:"0.8em"},checked:S,caption:"\u043A\u0430\u043A \u0443 \u0448\u043A\u0430\u0444\u0430",onChange:()=>{V(t=>({...t,standSameHeight:!S}))}})]}),u(m,{disabled:S,value:S?G.length:r.stand.height,type:d.INTEGER_POSITIVE_NUMBER,min:0,max:2750,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,stand:{...e.extComplect.stand,height:+t}}}))}}),u("hr",{}),u("hr",{}),u("div",{className:"text-end",children:"\u0422\u0440\u0443\u0431\u0430 (\u0434\u043E\u043F): "}),u(m,{value:r.truba,type:d.INTEGER_POSITIVE_NUMBER,min:0,max:10,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,truba:+t}}))}}),u("div",{className:"text-end",children:"\u0422\u0440\u0435\u043C\u043F\u0435\u043B\u044C (\u0434\u043E\u043F): "}),u(m,{value:r.trempel,type:d.INTEGER_POSITIVE_NUMBER,min:0,max:10,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,trempel:+t}}))}}),u("div",{className:"text-end",children:"\u0422\u043E\u0447\u043A\u0438 \u0441\u0432\u0435\u0442\u0430: "}),u(m,{value:r.light,type:d.INTEGER_POSITIVE_NUMBER,min:0,max:10,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,light:+t}}))}})]})]})]})}),(c==null?void 0:c.read)&&u("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-8",children:u(Ne,{})})]})})}export{_e as default};
